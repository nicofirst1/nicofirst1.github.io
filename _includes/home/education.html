{% assign section_description = include.description %}
{% if section_description %}
  {% assign section_blurb = section_description %}
{% elsif include.data == 'experience' %}
  {% assign section_blurb = "A curated look at labs, institutes, and collaborations that shaped how I work." %}
{% else %}
  {% assign section_blurb = "Academic foundations spanning reinforcement learning, multi-agent systems, and socio-technical design principles." %}
{% endif %}

<section class="experience_section py-20" id="{{ include.data }}">
    <div class="container mx-auto px-6 lg:px-10">
        <div class="section_header text-center">
            <span class="section_kicker text-sm uppercase tracking-[0.35em] text-slate-500 dark:text-slate-300">Trajectory</span>
            <h2 class="mt-4 text-3xl md:text-4xl font-semibold text-slate-900 dark:text-slate-50">{{ include.title }}</h2>
            <p class="mt-4 max-w-3xl mx-auto text-base md:text-lg text-slate-600 dark:text-slate-300">
                {{ section_blurb }}
            </p>
        </div>

        <div class="experience_grid mt-12 grid gap-8 lg:grid-cols-2">
            {%- assign ed = site[include.data] | sort: 'order' | reverse -%}
            {%- for i in ed -%}
                <article class="experience_card">
                    <div class="experience_card_inner">
                        <div class="experience_logo">
                            <div class="logo_blur" aria-hidden="true"></div>
                            <img src="{{ i.image | relative_url }}" alt="{{ i.title }}" loading="lazy" class="logo_image">
                        </div>
                        <div class="experience_info">
                            <div class="experience_meta">
                                {{ i.period }}
                            </div>
                            <h3>
                                {{ i.title }}
                            </h3>
                            <div class="experience_copy">
                                {{ i.content | markdownify }}
                            </div>
                        </div>
                    </div>
                </article>
            {%- endfor -%}
        </div>
    </div>
</section>
